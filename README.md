# Потапенко Илья
# Тестовое задание для DevOps-инженера

---

1. DevOps – это методология, направленная на интеграцию
разработки (dev) и эксплуатации ПО (ops). DevOps позволяет ускорить
доставку ПО, повысить его качество и надежность, сократить время на выпуск
обновлений.

    DevOps решает такие проблемы как:
  
    - Отсутствие или низкая степень автоматизации. Ручные процессы
    тестирования и развертывания часто могут приводить к ошибкам. А практики
    DevOps автоматизируют повторяющиеся задачи, что снижает человеческий
    фактор;
    - Отсутствие прозрачности и контроля. Практики DevOps
    предоставляют централизованные системы мониторинга и логирования, что
    позволяет оперативно реагировать на возникающие проблемы;
    - Проблемы с масштабируемостью. DevOps практики помогают
    создавать гибкое и масштабируемое ПО, что облегчает адаптацию к
    изменяющимся потребностям бизнеса;
    - Разрыв между разработкой и эксплуатацией. Отсутствие
    согласованности между dev-командами и ops-командами вызывало
    конфликты и задержки. DevOps практики же устраняют этот барьер,
    обеспечивая единые цели и инструменты для обеих сторон.

---

2. CI/CD – одна из DevOps-практик, направленная на автоматизацию
процессов интеграции, тестирования и развертывания кода. Continuous
Integration (CI) – непрерывная интеграция изменений кода в общую кодовую
базу, с автоматизированным тестированием. Continuous Deployment (CD) —
автоматизированное развертывание каждого успешного изменения на рабочие
среды, без необходимости ручного вмешательства.
    
    
    Почему CI/CD важно в DevOps:
    
    - CI/CD значительно ускоряет выпуск новых функций и исправлений;
    - Автоматизация тестирования и развертывания снижает вероятность ошибок и багов.
    
    Основные этапы:
    
    - Разработка кода. Например, разработчики написали код и отправили его в Git репозиторий;
    - Непрерывная интеграция (CI). Код автоматически собирается после каждого коммита;
    - Автоматизированное тестирование;
    - Сборка артефактов и контейнеризация. Создание Docker-образа, исполняемых файлов и т.д.
    - Непрерывная доставка (CD). Подготовка к финальному релизу;
    - Непрерывное развертывание (CD). Автоматическое развертывание каждого успешного билда в боевую среду.
    - Мониторинг производительности, логов и метрик.

---

3. Мониторинг – процесс наблюдения за работоспособностью приложений, инфраструктуры и сетей, позволяющий своевременно выявлять проблемы, анализировать метрики для повышения работы системы, информировать о поведении приложения в реальном времени.
    
    
    Инструменты мониторинга:
    
    - Prometheus – система для сбора метрик и мониторинга состояния инфраструктуры;
    - Grafana – инструмент для визуализации данных и построения дашбордов;
    - Zabbix – комплексный инструмент для мониторинга оборудования
    и приложений.
    
    Инструменты логирования:
    
    - ELK Stack (Elasticsearch, Logstash, Kibana) – Система для сбора, анализа и визуализации логов;
    - Graylog – инструмент для логирования и управления журналами
    событий.
    
    Главное различие заключается во времени анализа: мониторинг ориентирован на настоящее и будущее, помогая предотвращать проблемы, тогда как логирование обращается к прошлому, фиксируя события для дальнейшего изучения.
    Мониторинг чаще всего представлен в виде графиков и дашбордов, которые дают обзор общего состояния системы. Логи же представляют собой текстовые файлы или записи, доступные для поиска и фильтрации.
    Например, если сервер начинает испытывать высокую нагрузку, мониторинг покажет рост использования CPU и оперативной памяти, а логирование зафиксирует, какие процессы или запросы вызвали эту нагрузку.
    

---

4. Контейнеры — изолированная среда для запуска приложений. Используется общая операционная система хоста. Контейнеры позволяют упаковать приложение вместе со всеми его зависимостями и запустить его в любом окружении.

    У контейнеров и виртуальных машин достаточно отличий. 

    - У контейнеров изоляция происходит на уровне ОС, тогда как у виртуальных машин происходит полная изоляция с собственной ОС;
    - Контейнеры легковесны и используют намного меньше ресурсов чем виртуальные машины;
    - Скорость запуска контейнеров в разы меньше чем у виртуальных машин;
    - Для контейнеров не требуется гипервизор;
    - Весят контейнеры (сотни мегабайт) намного меньше виртуальных машин (гигабайты);
    - Контейнеры намного легче перемещать между средами, в отличие от виртуальных машин.
    
    Основные команды Docker для работы с контейнерами:
    
    - `docker run <image>` — запустить контейнер из образа;
    - `docker run -d -p <port:port> <image>` — запустить контейнер в фоновом режиме с пробросом портов;
    - `docker ps` — список запущенных контейнеров;
    - `docker ps -a` — список всех контейнеров;
    - `docker stop <container_id>` — остановить контейнер;
    - `docker start <container_id>` — запустить остановленный контейнер;
    - `docker rm <container_id>` — удалить контейнер.

---

5. NAT — это технология, которая позволяет изменять IP-адреса пакетов, проходящих через маршрутизатор. Это используется для экономии IP-адресов и обеспечения безопасности в локальных сетях.
    
    Как работает NAT:
    
    Когда устройство отправляет запрос в интернет, маршрутизатор с NAT подменяет его серый (частный) IP-адрес на свой белый (публичный) IP-адрес. При ответе из интернета маршрутизатор перенаправляет трафик обратно нужному устройству по таблице NAT.
    
    DNS — это распределённая система, которая преобразует доменные ****имена (например, example.com) в IP-адреса ****(например, 93.184.216.34). Это намного удобнее для пользователей, так как запоминать имена легче, чем IP-адреса.
    
    Как работает DNS:
    
    Когда пользователь вводит адрес сайта (example.com) в браузер, отправляется запрос на ближайший DNS-сервер. Если сервер знает IP-адрес сайта, он сразу возвращает его. Если же нет, то запрос передается на вышестоящие DNS-серверы пока нужный IP-адрес не найдется.
    

---

6. Ветвление в Git — это процесс создания независимой линии разработки, которая отделяется от основной (или другой) ветки. Ветвление позволяет командам разработчиков легко сотрудничать внутри одной центральной кодовой базы. Когда разработчик создает ветку, система контроля версий создает копию кодовой базы в этот момент времени. Изменения в ветке не влияют на других разработчиков в команде.
    
    Зачем нужно ветвление:
    
    - Оно позволяет параллельно разрабатывать новые функции или исправлять ошибки, не затрагивая основную рабочую ветку:
    - Можно создавать временные ветки для тестирования идей. Если изменения не подходят, ветку можно удалить без влияния на основной проект.
    - У разных разработчиков могут быть свои ветки для работы над различными задачами. Позже изменения объединяются в основную ветку.
    - Ветки сохраняют историю изменений, что упрощает управление проектом и откат к предыдущим состояниям.

    Создать новую ветку можно командой - `git branch <имя_ветки>`
    
    Переключиться на новую ветку можно командой - `git checkout <имя_ветки>`

---

7. Основные методы обеспечения безопасности для серверов и сервисов:
    - Использование нескольких факторов для входа, например, пароль и одноразовый код (многофакторная аутентификация);
    - Ограничение доступа на основе ролей пользователей;
    - Ограничение входящего и исходящего трафика по заданным правилам с помощью файрволлов;
    - Создание защищенного канала для доступа к внутренним ресурсам (VPN);
    - Разделение сети на подсети для изоляции сервисов;
    - Шифрование данных в процессе передачи через сеть (SSL/TLS);
    - Защищенный удаленный доступ к серверам по протоколу SSH.
    
    SSH — сетевой протокол, предназначенный для безопасного удаленного доступа к серверам. Данный протокол эффективен тем, что шифрует всю передаваемую информацию по сети. По умолчанию, используется 22-й порт. В основном он нужен для удаленного управления данными пользователя на сервере, запуска служебных команд, работы в консольном режиме с базами данных.
    
    Подключиться к серверу по SSH можно командой `ssh user@server_ip`.
    

---

8. Оркестрация контейнеров — это процесс автоматизации развертывания, управления, масштабирования и координации контейнеризированных приложений.
    
    Задачи, которые выполняет оркестрация контейнеров:
    
    - Позволяет увеличивать или уменьшать количество работающих контейнеров в зависимости от нагрузки;
    - Распределяет трафик между контейнерами, обеспечивая высокую производительность;
    - В случае сбоя контейнера оркестратор автоматически перезапускает его, сохраняя стабильность системы;
    - Эффективно распределяет контейнеры по узлам кластера, минимизируя простаивание ресурсов.
    
    Использовал я только один оркестратор - Kubernetes. Это самая популярная система оркестрации, хорошо известна своей способностью автоматизировать развертывание, управление и масштабирование контейнеров. Можно определить желаемое состояние контейнеров с помощью файлов манифеста. Например, описать требования к репликации, распределение ресурсов, сетевые конфигурации и т.д.
    
    Но есть и другие популярные оркестраторы, такие как:
    
    - Docker Swarm. Встроенный оркестратор в Docker;
    - OpenShift. Платформа на основе Kubernetes от Red Hat.

---

9. Файл описывает конфигурацию для запуска двух контейнеров:
    - Сервис web:
        - Использует образ nginx последней версии (latest);
        - Прокидывает внешний порт 8080 на хосте и внутренний порт 80 в контейнере;
        - Веб-сервер будет доступен по адресу http://localhost:8080.
    - Сервис db:
        - Использует образ postgres последней версии (latest);
        - Устанавливаются переменные окружения для настройки пользователя (POSTGRES_USER) и пароля (POSTGRES_PASSWORD) базы данных
    
    Чтобы запустить данный проект достаточно в директории с файлом docker-compose.yml запустить команду `docker-compose up -d` . Флаг -d позволяет запустить это все в фоновом режиме. Перед этим, разумеется, необходимо запустить сам Docker. Переходим по адресу http://localhost:8080 и готово.
    
    Чтобы добавить том для хранения данных PostgreSQL, изменим код:
    
      ![image](https://github.com/user-attachments/assets/736eabaf-ab5a-4ade-9cd4-8018c087d81d)
